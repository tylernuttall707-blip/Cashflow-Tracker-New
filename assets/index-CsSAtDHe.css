.app-shell{max-width:1160px;margin:0 auto;padding:0 clamp(16px,5vw,48px);min-height:100%}.app-header{display:flex;align-items:center;justify-content:space-between;padding:18px 0;border-bottom:1px solid var(--border);position:sticky;top:0;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background:#ffffffd9;z-index:10}.app-header h1{margin:0;font-size:18px;letter-spacing:.4px}.header-actions{display:flex;gap:10px;flex-wrap:wrap}.btn{background:var(--accent);color:#fff;border:1px solid var(--accent);padding:8px 12px;border-radius:10px;font-weight:600;cursor:pointer;transition:filter .2s ease,box-shadow .2s ease;font-size:14px}.btn:hover{filter:brightness(1.05);box-shadow:0 4px 12px #5f7bff40}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-outline{background:var(--panel);color:var(--accent);border-color:var(--accent)}.btn-outline:hover{background:#5f7bff14}.btn-sm{padding:6px 10px;font-size:13px;margin:0 4px}.link{background:none;border:none;color:var(--accent);text-decoration:underline;cursor:pointer}.tabs{display:flex;gap:8px;padding:12px 0;border-bottom:1px solid var(--border);flex-wrap:wrap}.tab{background:var(--chip);color:var(--text);border:1px solid var(--border);padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600;opacity:.85;transition:background .2s ease,color .2s ease,box-shadow .2s ease;font-size:14px}.tab:hover{opacity:1}.tab.active{opacity:1;background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 0 0 2px #5f7bff33}main{padding:20px 0;display:grid;gap:16px}.card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 20px 40px #11192814}.card h2{margin-top:0}.card-header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px}.card-header h2{margin:0}.card-header .header-actions{display:flex;gap:8px;flex-wrap:wrap}.grid-2{display:grid;gap:16px;grid-template-columns:repeat(2,minmax(0,1fr))}.grid-4{display:grid;gap:12px;grid-template-columns:repeat(4,minmax(0,1fr))}@media (max-width: 900px){.grid-2,.grid-4{grid-template-columns:1fr}}.form .field{display:flex;flex-direction:column;gap:6px}.form .field.full{grid-column:1 / -1}.form .actions{display:flex;gap:10px;align-items:center}.inline-group{display:flex;gap:8px}.inline-group select{flex:1}.form input,.form select,.form textarea{background:var(--panel);border:1px solid var(--border);color:var(--text);padding:9px 10px;border-radius:10px;outline:none;transition:border-color .2s ease,box-shadow .2s ease;font-size:14px}.form input:focus,.form select:focus,.form textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px #5f7bff33}.form textarea{resize:vertical}.form.compact .field{margin-bottom:6px}.form label{font-size:14px;font-weight:600;color:var(--text)}.kpis{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.kpi{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:0 12px 24px #1119280d}.kpi-label{color:var(--muted);font-size:12px;margin-bottom:6px}.kpi-value{font-size:20px;font-weight:700}.kpi-meta{color:var(--muted);font-size:12px;margin-top:4px}.delta{font-weight:600}.delta-positive{color:#166534}.delta-negative{color:var(--bad)}.delta-neutral{color:var(--muted)}.whatif-controls{display:grid;gap:16px;grid-template-columns:repeat(3,minmax(0,1fr))}.whatif-per-stream-block{grid-column:1 / -1}.whatif-streams{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}.whatif-streams>*{height:100%}@media (max-width: 1100px){.whatif-controls{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 720px){.whatif-controls{grid-template-columns:1fr}.whatif-per-stream-block{grid-column:auto}}.whatif-control-block{background:#eff6ff99;border:1px solid rgba(148,163,184,.35);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:8px}.whatif-control-block h3{margin:0;font-size:16px}.whatif-fields{display:flex;flex-direction:column;gap:6px;font-size:14px}.whatif-fields label{font-weight:600}.whatif-fields input{font-size:14px}.whatif-slider{display:flex;flex-direction:column;gap:6px}.multiplier-value{font-variant-numeric:tabular-nums;font-size:13px;color:var(--muted)}.whatif-global-grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.whatif-percent-inputs{display:flex;align-items:center;gap:8px}.whatif-percent-inputs input[type=number]{width:80px}.whatif-global-summary{font-size:13px;color:var(--muted);margin-top:4px}.whatif-kpis .kpi{box-shadow:none}.table{width:100%;border-collapse:collapse}.table th,.table td{padding:10px;border-bottom:1px solid var(--border);font-size:14px}.table.compact th,.table.compact td{padding:6px 8px}.table th{text-align:left;color:var(--muted);font-weight:600;background:var(--chip)}.table th.sortable{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative}.table th.sortable:after{content:"";display:inline-block;margin-left:6px;font-size:.7em}.table th.sortable[aria-sort=ascending]:after{content:"▲"}.table th.sortable[aria-sort=descending]:after{content:"▼"}.table th.sortable:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.table td.num,.table th.num{text-align:right;font-variant-numeric:tabular-nums}.tab-panel{display:none}.tab-panel.active{display:block}.app-footer{text-align:center;color:var(--muted);padding:30px 0}@media (max-width: 600px){.app-shell{padding:0 clamp(20px,8vw,36px)}.header-actions{width:100%;justify-content:flex-start}}canvas{width:100%}.ar-controls{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:12px}.ar-options{display:flex;flex-wrap:wrap;gap:16px;align-items:flex-end;margin-bottom:12px}.ar-options .field{min-width:140px}.ar-options .checkbox-field{min-width:260px}.ar-options .actions-inline{display:flex;gap:10px;align-items:center}.ar-mapping{margin-bottom:12px}.mapping-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));padding-top:8px}.mapping-grid label{display:flex;flex-direction:column;gap:6px;font-size:14px;color:var(--muted)}.mapping-grid input{font-size:14px;padding:8px 10px}.checkbox-label{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text)}.checkbox-label input{width:auto}.ar-status{min-height:20px;font-size:14px;color:var(--muted);margin-bottom:8px}.ar-status.error{color:var(--bad)}.ar-status.success{color:#047857}.ar-counters{margin-bottom:8px;font-size:14px;color:var(--muted);display:flex;flex-wrap:wrap;gap:12px}.ar-preview-wrapper{max-height:420px;overflow:auto;border:1px solid var(--border);border-radius:12px}.ar-preview{width:100%;border-collapse:separate;border-spacing:0}.ar-preview thead th{position:sticky;top:0;background:#f1f5f9;z-index:1}.ar-preview tbody tr:nth-child(2n){background:#f1f5f966}.ar-preview tbody tr.invalid{background:#f8717114}.ar-preview input{width:100%;border-radius:8px;border:1px solid var(--border);padding:6px 8px;font-size:14px}.ar-preview input:focus{border-color:var(--accent);box-shadow:0 0 0 3px #5f7bff2e;outline:none}.ar-preview input.invalid{border-color:var(--bad);box-shadow:0 0 0 2px #f1656440}.ar-preview td.invalid-cell{background:#f871711f}.ar-preview td{vertical-align:middle}.ar-preview .select-col{width:54px;text-align:center}.ar-preview .select-col input{width:auto}.ar-select-all{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;font-size:11px;text-transform:uppercase;font-weight:600;letter-spacing:.4px;color:var(--muted)}.ar-select-all input{margin-bottom:2px}@media (max-width: 720px){.ar-options{flex-direction:column;align-items:stretch}.ar-options .actions-inline{justify-content:flex-start}.ar-preview-wrapper{max-height:320px}}:root{--bg: #F5F7FB;--panel: #FFFFFF;--border: #E1E7F5;--text: #33394C;--muted: #7A859E;--accent: #5F7BFF;--good: #47C7F1;--bad: #F16564;--chip: #EBF1FF}*{box-sizing:border-box}html,body{height:100%;margin:0;padding:0}body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);background-color:var(--bg);background-image:linear-gradient(180deg,#f5f7fb,#e8eefa);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5}#root{min-height:100%}
